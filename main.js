!function(){"use strict";class e{constructor(e,t){this._config=e,this._formElement=t}enableValidation(){this._setEventListeners()}_setEventListeners(){this._inputs=Array.from(this._formElement.querySelectorAll(this._config.inputSelector)),this._buttonElement=this._formElement.querySelector(this._config.submitButtonSelector),this.toggleButtonState(),this._inputs.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this.toggleButtonState()}))}))}_disableSubmitButton(){this._buttonElement.disabled=!0,this._buttonElement.classList.add(this._config.inactiveButtonClass)}toggleButtonState(){this._hasInvalidInput()?this._disableSubmitButton():(this._buttonElement.classList.remove(this._config.inactiveButtonClass),this._buttonElement.disabled=!1)}resetValidation(){this.toggleButtonState(),this._inputs.forEach((e=>{this._removeErrorMessage(e)}))}_checkInputValidity(e){e.validity.valid?(this._removeErrorStyles(e,this._config),this._removeErrorMessage(e)):(this._addErrorStyles(e,this._config),this._addErrorMessage(e))}_hasInvalidInput(){return this._inputs.some((e=>!e.validity.valid))}_addErrorMessage(e){const t=this._formElement.querySelector("#".concat(e.id,"-error"));t.textContent=e.validationMessage,t.classList.add(this._config.errorTextVisible)}_removeErrorMessage(e){this._formElement.querySelector("#".concat(e.id,"-error")).classList.remove(this._config.errorTextVisible)}_removeErrorStyles(e){e.classList.remove(this._config.inputWithError)}_addErrorStyles(e){e.classList.add(this._config.inputWithError)}}class t{constructor(e,t){let{data:s,currentUserId:r,handlePictureClick:i,handleLikeClick:a,handleTrashButtonClick:o}=e;this._text=s.name,this._link=s.link,this._cardID=s._id,this._userId=r,this._ownerID=s.owner._id,this._likes=s.likes,this._handlePictureClick=i,this._cardSelector=t,this._handleTrashButtonClick=o,this._handleLikeClick=a}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}setLikesInfo(e){this._likes=e.likes,this.updateLikes()}_setEventListeners(){this.likeButton=this._element.querySelector(".element__like-button"),this.cardImage=this._element.querySelector(".element__photo"),this.cardTitle=this._element.querySelector(".element__title"),this._trashButton=this._element.querySelector(".element__trash"),this._likesCounter=this._element.querySelector(".element__like-button__counter"),this.updateLikes(),this.cardImage.addEventListener("click",(()=>this._handlePictureClick({url:this._link,title:this._text}))),this.likeButton.addEventListener("click",(()=>this._handleLikeClick(this))),this._trashButton.addEventListener("click",(()=>this._handleTrashButtonClick(this)))}generateCard(){return this._element=this._getTemplate(),this._setEventListeners(),this.makeTrashButtonInvisible(),this.cardImage.src=this._link,this.cardTitle.textContent=this._text,this.cardImage.alt=this._text,this._element}makeTrashButtonInvisible(){this._ownerID!=this._userId&&this._trashButton.remove()}updateLikes(){this._likesCounter.textContent=this._likes.length,this.checkIfLiked()?this.likeButton.classList.add("element__like-button_activated"):this.likeButton.classList.remove("element__like-button_activated")}checkIfLiked(){return Boolean(this._likes.find((e=>e._id===this._userId)))}getId(){return this._cardID}removeElement(){this._element.remove()}}var s=class{constructor(e){this._modal=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}_handleEscClose(e){"Escape"===e.key&&this.closeModal()}setEventListeners(){this._modal.addEventListener("mousedown",(e=>{(e.target.classList.contains("modal")||e.target.classList.contains("modal__close-button"))&&this.closeModal()}))}openModal(){this._modal.classList.add("modal_open"),document.addEventListener("keydown",this._handleEscClose)}closeModal(){this._modal.classList.remove("modal_open"),document.removeEventListener("keydown",this._handleEscClose)}},r=class extends s{constructor(e){let{popupSelector:t,handleFormSubmit:s}=e;super(t),this._popupForm=this._modal.querySelector(".modal__form"),this._inputList=this._modal.querySelectorAll(".modal__input"),this._handleFormSubmit=s}_getInputValues(){return this._formValues={},this._inputList.forEach((e=>{this._formValues[e.name]=e.value})),this._formValues}setEventListeners(){this._modal.addEventListener("submit",(e=>{this._handleFormSubmit(this._getInputValues()),e.preventDefault()})),super.setEventListeners()}closeModal(){this._popupForm.reset(),super.closeModal()}};const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=document.querySelector(e).querySelector(".modal__submit-button");s.textContent=t?"Saving...":"Save"},a={editProfilePopup:document.querySelector("#edit-profile-modal"),addCardModal:document.querySelector("#add-card-modal"),addAvatarModal:document.querySelector("#change-avatar-modal")},o={formSelector:".modal__form",inputSelector:".modal__input",errorTextSelector:".modal__error-text",submitButtonSelector:".modal__submit-button",inactiveButtonClass:"modal__submit-button_disabled",inputWithError:"modal__input_has-error",errorTextVisible:"modal__error-text_visible"},n=document.querySelector("#open-modal-button"),l=document.forms["edit-profile-form"],d=l.name,c=l.description,h=document.querySelector(".profile__add-button"),u=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}_handleServerResponse(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}getAppInfo(){return Promise.all([this.getInitialCards(),this.getUserInfo()])}getInitialCards(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then(this._handleServerResponse)}getUserInfo(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then(this._handleServerResponse)}editUserInfo(e){let{name:t,about:s}=e;return console.log({name:t,about:s}),fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:s})}).then(this._handleServerResponse)}addNewCard(e){let{name:t,link:s}=e;return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:s})}).then(this._handleServerResponse)}deleteCard(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._handleServerResponse)}changeLikeStatus(e,t){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:t?"PUT":"DELETE",headers:this._headers}).then(this._handleServerResponse)}updateAvatar(e){let{avatar:t}=e;return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})}).then(this._handleServerResponse)}}({baseUrl:"https://around.nomoreparties.co/v1/group-11",headers:{authorization:"31f62eb8-38ec-46e4-a611-45b4f4685de4","Content-Type":"application/json"}});new e(o,a.editProfilePopup).enableValidation();const _=new e(o,a.addCardModal);_.enableValidation();const m=new class{constructor(e){let{profileNameSelector:t,profileDescriptionSelector:s,userAvatarSelector:r,_id:i}=e;this._profileNameEl=document.querySelector(t),this._profileDescriptionEl=document.querySelector(s),this._userAvatarEl=document.querySelector(r),this._id=i}getUserId(){return this._id}getUserInfo(){return{profileName:this._profileNameEl.textContent,profileDescription:this._profileDescriptionEl.textContent,id:this._id,avatar:this._userAvatarEl.src}}setUserInfo(e){let{name:t,about:s,avatar:r,_id:i}=e;t&&(this._profileNameEl.textContent=t),s&&(this._profileDescriptionEl.textContent=s),r&&(this._userAvatarEl.src=r),i&&(this._id=i)}setAvatar(e){let{link:t}=e;this._userAvatarEl.src=t}}({profileNameSelector:"#profile-name",profileDescriptionSelector:"#profile-description",userAvatarSelector:".profile__avatar-image"}),p=new r({popupSelector:"#edit-profile-modal",handleFormSubmit:e=>{i("#edit-profile-modal",!0),u.editUserInfo({name:e.name,about:e.about}).then((e=>{m.setUserInfo({name:e.name,about:e.about}),p.closeModal()})).catch((e=>console.log("Unable to update profile information: ".concat(e)))).finally((()=>{i("#edit-profile-modal")}))}}),v=new e(o,a.addAvatarModal);v.enableValidation();const f=new r({popupSelector:"#change-avatar-modal",handleFormSubmit:e=>{i("#change-avatar-modal",!0),u.updateAvatar({avatar:e.link}).then((e=>{m.setAvatar({link:e.avatar}),f.closeModal()})).catch((e=>console.log("Unable change the user avatar: ".concat(res)))).finally((()=>{i("#change-avatar-modal")}))}});f.setEventListeners(),document.querySelector("#edit-avatar-button").addEventListener("click",(()=>{f.openModal(),v.resetValidation()})),n.addEventListener("click",(()=>{const e=m.getUserInfo();d.value=e.profileName,c.value=e.profileDescription,p.openModal()}));const S=new class extends s{constructor(e){super(e),this._imageElement=this._modal.querySelector(".modal__image"),this._imageCaption=this._modal.querySelector(".modal__caption")}openModal(e){this._imageElement.src=e.url,this._imageElement.alt="Image ".concat(e.title),this._imageCaption.textContent=e.title,super.openModal()}}("#image-modal"),g=new class extends s{handleSubmitAction(e){this._handleSubmitAction=e}setEventListeners(){this._modal.querySelector(".modal__delete-button").addEventListener("click",(e=>{e.preventDefault(),this._handleSubmitAction()})),super.setEventListeners()}}("#delete-popup");g.setEventListeners();const b=e=>{const s=new t({data:{...e},currentUserId:m.getUserId(),handlePictureClick:e=>{S.openModal(e)},handleLikeClick:e=>{u.changeLikeStatus(e.getId(),!e.checkIfLiked()).then((t=>{e.setLikesInfo({...t})})).catch((e=>console.log("Unable to change like status: ".concat(e))))},handleTrashButtonClick:e=>{g.openModal(),g.handleSubmitAction((()=>{u.deleteCard(e.getId()).then((()=>{e.removeElement(),g.closeModal()})).catch((e=>console.log("Unable to delete a card: ".concat(e))))}))}},"#element-template");return s.generateCard()};u.getAppInfo().then((e=>{let[t,s]=e;E.items=t,m.setUserInfo(s),E.renderItems()})).catch((e=>"Unable to load data: ".concat(e)));const E=new class{constructor(e,t){let{items:s,renderer:r}=e;this.items=s,this._renderer=r,this._container=document.querySelector(t)}renderItems(){this.items.reverse().forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}({items:null,renderer:e=>{E.addItem(b(e))}},".elements"),k=new r({popupSelector:"#add-card-modal",handleFormSubmit:e=>{i("#add-card-modal",!0),u.addNewCard(e).then((e=>{E.addItem(b(e)),k.closeModal()})).catch((e=>console.log("Unable to add a card: ".concat(e)))).finally((()=>{i("#add-card-modal")}))}});h.addEventListener("click",(()=>{k.openModal(),_.toggleButtonState()})),S.setEventListeners(),p.setEventListeners(),k.setEventListeners()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S3VNLFVBQVlELEVBQ2pCdE0sS0FBS3dNLFdBQWExSSxTQUFTbkQsY0FBYzBMLEdBRzNDRCxjQUNFcE0sS0FBS21NLE1BQU1NLFVBQVUzTCxTQUFTcUUsSUFDNUJuRixLQUFLdU0sVUFBVXBILE1BSW5CdUgsUUFBUUMsR0FDTjNNLEtBQUt3TSxXQUFXSSxRQUFRRCxLTCtJMUIsQ0FDRVIsTUFBTyxLQUNQRyxTQUFXN0osSUFDVHlKLEVBQVlRLFFBQVFiLEVBQVdwSixNQUduQyxhQUdJb0ssRUFBZSxJQUFJL0IsRUFBYyxDQUNyQ3hGLGNBQWUsa0JBQ2ZhLGlCQUFtQjFELElBQ2pCcUUsRUFBYyxtQkFBbUIsR0FFakNpQixFQUNHMEIsV0FBV2hILEdBQ1h1RyxNQUFNOEMsSUFDTEksRUFBWVEsUUFBUWIsRUFBV0MsSUFDL0JlLEVBQWFqSCxnQkFFZG9GLE9BQU9DLEdBQVE5QixRQUFRQyxJQUFSLGdDQUFxQzZCLE1BQ3BEQyxTQUFRLEtBQ1BwRSxFQUFjLHlCQUt0QmdCLEVBQWM5RyxpQkFBaUIsU0FBUyxLQUN0QzZMLEVBQWE3RyxZQUNiaUUsRUFBaUJwSix1QkFHbkJ5SyxFQUFXekYsb0JBQ1hxQixFQUFpQnJCLG9CQUNqQmdILEVBQWFoSCxvQiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3V0aWxzL3V0aWxzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy91dGlscy9BcGkuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRGVsZXRlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2lucHV0cyA9IEFycmF5LmZyb20oXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2NvbmZpZy5pbnB1dFNlbGVjdG9yKVxuICAgICk7XG5cbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIHRoaXMuX2NvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvclxuICAgICk7XG5cbiAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQpO1xuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9kaXNhYmxlU3VibWl0QnV0dG9uKCkge1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gIH1cblxuICB0b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuX2Rpc2FibGVTdWJtaXRCdXR0b24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xuXG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLl9yZW1vdmVFcnJvck1lc3NhZ2UoaW5wdXQpO1xuICAgIH0pO1xuICB9XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dCkge1xuICAgIGlmIChpbnB1dC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fcmVtb3ZlRXJyb3JTdHlsZXMoaW5wdXQsIHRoaXMuX2NvbmZpZyk7XG4gICAgICB0aGlzLl9yZW1vdmVFcnJvck1lc3NhZ2UoaW5wdXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9hZGRFcnJvclN0eWxlcyhpbnB1dCwgdGhpcy5fY29uZmlnKTtcbiAgICAgIHRoaXMuX2FkZEVycm9yTWVzc2FnZShpbnB1dCk7XG4gICAgfVxuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRzLnNvbWUoKGlucHV0KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9XG5cbiAgX2FkZEVycm9yTWVzc2FnZShpbnB1dCkge1xuICAgIGNvbnN0IGZvcm1FcnJvciA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0LmlkfS1lcnJvcmApO1xuICAgIC8vUmVwbGFjZSB0aGUgY29udGVudCBvZiB0aGUgZXJyb3JcbiAgICBmb3JtRXJyb3IudGV4dENvbnRlbnQgPSBpbnB1dC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICBmb3JtRXJyb3IuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuZXJyb3JUZXh0VmlzaWJsZSk7XG4gIH1cblxuICBfcmVtb3ZlRXJyb3JNZXNzYWdlKGlucHV0KSB7XG4gICAgY29uc3QgZm9ybUVycm9yID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XG4gICAgZm9ybUVycm9yLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmVycm9yVGV4dFZpc2libGUpO1xuICB9XG5cbiAgX3JlbW92ZUVycm9yU3R5bGVzKGlucHV0KSB7XG4gICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuaW5wdXRXaXRoRXJyb3IpO1xuICB9XG5cbiAgX2FkZEVycm9yU3R5bGVzKGlucHV0KSB7XG4gICAgaW5wdXQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5wdXRXaXRoRXJyb3IpO1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHtcbiAgICAgIGRhdGEsXG4gICAgICBjdXJyZW50VXNlcklkLFxuICAgICAgaGFuZGxlUGljdHVyZUNsaWNrLFxuICAgICAgaGFuZGxlTGlrZUNsaWNrLFxuICAgICAgaGFuZGxlVHJhc2hCdXR0b25DbGljayxcbiAgICB9LFxuICAgIGNhcmRTZWxlY3RvclxuICApIHtcbiAgICB0aGlzLl90ZXh0ID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5fY2FyZElEID0gZGF0YS5faWQ7XG4gICAgdGhpcy5fdXNlcklkID0gY3VycmVudFVzZXJJZDtcbiAgICB0aGlzLl9vd25lcklEID0gZGF0YS5vd25lci5faWQ7XG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xuXG4gICAgdGhpcy5faGFuZGxlUGljdHVyZUNsaWNrID0gaGFuZGxlUGljdHVyZUNsaWNrO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVUcmFzaEJ1dHRvbkNsaWNrID0gaGFuZGxlVHJhc2hCdXR0b25DbGljaztcbiAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sgPSBoYW5kbGVMaWtlQ2xpY2s7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgY2FyZCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgcmV0dXJuIGNhcmQ7XG4gIH1cblxuICBzZXRMaWtlc0luZm8oZGF0YSkge1xuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcbiAgICB0aGlzLnVwZGF0ZUxpa2VzKCk7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5saWtlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2xpa2UtYnV0dG9uXCIpO1xuICAgIHRoaXMuY2FyZEltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX3Bob3RvXCIpO1xuICAgIHRoaXMuY2FyZFRpdGxlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX3RpdGxlXCIpO1xuICAgIHRoaXMuX3RyYXNoQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX3RyYXNoXCIpO1xuICAgIHRoaXMuX2xpa2VzQ291bnRlciA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLmVsZW1lbnRfX2xpa2UtYnV0dG9uX19jb3VudGVyXCJcbiAgICApO1xuXG4gICAgdGhpcy51cGRhdGVMaWtlcygpO1xuXG4gICAgdGhpcy5jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XG4gICAgICB0aGlzLl9oYW5kbGVQaWN0dXJlQ2xpY2soe1xuICAgICAgICB1cmw6IHRoaXMuX2xpbmssXG4gICAgICAgIHRpdGxlOiB0aGlzLl90ZXh0LFxuICAgICAgfSlcbiAgICApO1xuXG4gICAgdGhpcy5saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxuICAgICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrKHRoaXMpXG4gICAgKTtcblxuICAgIHRoaXMuX3RyYXNoQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxuICAgICAgdGhpcy5faGFuZGxlVHJhc2hCdXR0b25DbGljayh0aGlzKVxuICAgICk7XG4gIH1cblxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgdGhpcy5tYWtlVHJhc2hCdXR0b25JbnZpc2libGUoKTtcblxuICAgIHRoaXMuY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5jYXJkVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl90ZXh0O1xuICAgIHRoaXMuY2FyZEltYWdlLmFsdCA9IHRoaXMuX3RleHQ7XG5cbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxuXG4gIG1ha2VUcmFzaEJ1dHRvbkludmlzaWJsZSgpIHtcbiAgICBpZiAodGhpcy5fb3duZXJJRCAhPSB0aGlzLl91c2VySWQpIHtcbiAgICAgIHRoaXMuX3RyYXNoQnV0dG9uLnJlbW92ZSgpO1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZUxpa2VzKCkge1xuICAgIHRoaXMuX2xpa2VzQ291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcblxuICAgIGlmICh0aGlzLmNoZWNrSWZMaWtlZCgpKSB7XG4gICAgICB0aGlzLmxpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImVsZW1lbnRfX2xpa2UtYnV0dG9uX2FjdGl2YXRlZFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5saWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJlbGVtZW50X19saWtlLWJ1dHRvbl9hY3RpdmF0ZWRcIik7XG4gICAgfVxuICB9XG5cbiAgY2hlY2tJZkxpa2VkKCkge1xuICAgIHJldHVybiBCb29sZWFuKHRoaXMuX2xpa2VzLmZpbmQoKGl0ZW0pID0+IGl0ZW0uX2lkID09PSB0aGlzLl91c2VySWQpKTtcbiAgfVxuXG4gIGdldElkKCkge1xuICAgIHJldHVybiB0aGlzLl9jYXJkSUQ7XG4gIH1cblxuICByZW1vdmVFbGVtZW50KCkge1xuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG4gIH1cbn1cbiIsImNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX21vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2VNb2RhbCgpO1xuICAgIH1cbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX21vZGFsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsXCIpIHx8XG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfX2Nsb3NlLWJ1dHRvblwiKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuY2xvc2VNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgb3Blbk1vZGFsKCkge1xuICAgIHRoaXMuX21vZGFsLmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuXCIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIGNsb3NlTW9kYWwoKSB7XG4gICAgdGhpcy5fbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5cIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvcHVwO1xuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCB9KSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG5cbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9tb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX21vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2lucHV0XCIpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICB9XG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9tb2RhbC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBjbG9zZU1vZGFsKCkge1xuICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpO1xuICAgIHN1cGVyLmNsb3NlTW9kYWwoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhGb3JtO1xuIiwiZXhwb3J0IGNvbnN0IHJlbmRlckxvYWRpbmcgPSAocG9wdXBTZWxlY3RvciwgaXNMb2FkaW5nID0gZmFsc2UpID0+IHtcbiAgY29uc3QgYWN0aXZlQnV0dG9uID0gZG9jdW1lbnRcbiAgICAucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKVxuICAgIC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zdWJtaXQtYnV0dG9uXCIpO1xuICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgYWN0aXZlQnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcbiAgfSBlbHNlIHtcbiAgICBhY3RpdmVCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmVcIjtcbiAgfVxufTtcbiIsImV4cG9ydCBjb25zdCBlbGVtZW50cyA9IHtcbiAgZWRpdFByb2ZpbGVQb3B1cDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LXByb2ZpbGUtbW9kYWxcIiksXG4gIGFkZENhcmRNb2RhbDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZC1tb2RhbFwiKSxcbiAgYWRkQXZhdGFyTW9kYWw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2hhbmdlLWF2YXRhci1tb2RhbFwiKSxcbn07XG5cbmV4cG9ydCBjb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICBlcnJvclRleHRTZWxlY3RvcjogXCIubW9kYWxfX2Vycm9yLXRleHRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19zdWJtaXQtYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX3N1Ym1pdC1idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRXaXRoRXJyb3I6IFwibW9kYWxfX2lucHV0X2hhcy1lcnJvclwiLFxuICBlcnJvclRleHRWaXNpYmxlOiBcIm1vZGFsX19lcnJvci10ZXh0X3Zpc2libGVcIixcbn07XG5cbmV4cG9ydCBjb25zdCBzZWxlY3RvcnMgPSB7fTtcbiIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IHsgQ2FyZCB9IGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCB7IFNlY3Rpb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mb1wiO1xuaW1wb3J0IEFwaSBmcm9tIFwiLi4vdXRpbHMvQXBpLmpzXCI7XG5pbXBvcnQgeyByZW5kZXJMb2FkaW5nIH0gZnJvbSBcIi4uL3V0aWxzL3V0aWxzLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRGVsZXRlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aERlbGV0ZVwiO1xuaW1wb3J0IHsgdmFsaWRhdGlvbkNvbmZpZywgZWxlbWVudHMsIHNlbGVjdG9ycyB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHNcIjtcblxuY29uc3Qgb3BlblByb2ZpbGVNb2RhbEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjb3Blbi1tb2RhbC1idXR0b25cIik7XG5cbmNvbnN0IGVkaXRQcm9maWxlRm9ybSA9IGRvY3VtZW50LmZvcm1zW1wiZWRpdC1wcm9maWxlLWZvcm1cIl07XG5jb25zdCBuYW1lSW5wdXQgPSBlZGl0UHJvZmlsZUZvcm0ubmFtZTtcbmNvbnN0IGRlc2NyaXB0aW9uSW5wdXQgPSBlZGl0UHJvZmlsZUZvcm0uZGVzY3JpcHRpb247XG5cbmNvbnN0IGFkZENhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvZ3JvdXAtMTFcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiMzFmNjJlYjgtMzhlYy00NmU0LWE2MTEtNDViNGY0Njg1ZGU0XCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcblxuY29uc3QgZWRpdFByb2ZpbGVWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcbiAgdmFsaWRhdGlvbkNvbmZpZyxcbiAgZWxlbWVudHMuZWRpdFByb2ZpbGVQb3B1cFxuKTtcbmVkaXRQcm9maWxlVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgYWRkQ2FyZFZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxuICB2YWxpZGF0aW9uQ29uZmlnLFxuICBlbGVtZW50cy5hZGRDYXJkTW9kYWxcbik7XG5hZGRDYXJkVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgdXNlckRhdGEgPSBuZXcgVXNlckluZm8oe1xuICBwcm9maWxlTmFtZVNlbGVjdG9yOiBcIiNwcm9maWxlLW5hbWVcIixcbiAgcHJvZmlsZURlc2NyaXB0aW9uU2VsZWN0b3I6IFwiI3Byb2ZpbGUtZGVzY3JpcHRpb25cIixcbiAgdXNlckF2YXRhclNlbGVjdG9yOiBcIi5wcm9maWxlX19hdmF0YXItaW1hZ2VcIixcbn0pO1xuXG5jb25zdCBlZGl0UHJvZmlsZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBwb3B1cFNlbGVjdG9yOiBcIiNlZGl0LXByb2ZpbGUtbW9kYWxcIixcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGRhdGEpID0+IHtcbiAgICByZW5kZXJMb2FkaW5nKFwiI2VkaXQtcHJvZmlsZS1tb2RhbFwiLCB0cnVlKTtcbiAgICBhcGlcbiAgICAgIC5lZGl0VXNlckluZm8oe1xuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgIGFib3V0OiBkYXRhLmFib3V0LFxuICAgICAgfSlcbiAgICAgIC50aGVuKChpbmZvKSA9PiB7XG4gICAgICAgIHVzZXJEYXRhLnNldFVzZXJJbmZvKHtcbiAgICAgICAgICBuYW1lOiBpbmZvLm5hbWUsXG4gICAgICAgICAgYWJvdXQ6IGluZm8uYWJvdXQsXG4gICAgICAgIH0pO1xuICAgICAgICBlZGl0UHJvZmlsZVBvcHVwLmNsb3NlTW9kYWwoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT5cbiAgICAgICAgY29uc29sZS5sb2coYFVuYWJsZSB0byB1cGRhdGUgcHJvZmlsZSBpbmZvcm1hdGlvbjogJHtlcnJ9YClcbiAgICAgIClcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgcmVuZGVyTG9hZGluZyhcIiNlZGl0LXByb2ZpbGUtbW9kYWxcIik7XG4gICAgICB9KTtcbiAgfSxcbn0pO1xuXG5jb25zdCBlZGl0QXZhdGFyID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgZWxlbWVudHMuYWRkQXZhdGFyTW9kYWwpO1xuZWRpdEF2YXRhci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IHVwZGF0ZUF2YXRhclBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBwb3B1cFNlbGVjdG9yOiBcIiNjaGFuZ2UtYXZhdGFyLW1vZGFsXCIsXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChkYXRhKSA9PiB7XG4gICAgcmVuZGVyTG9hZGluZyhcIiNjaGFuZ2UtYXZhdGFyLW1vZGFsXCIsIHRydWUpO1xuICAgIGFwaVxuICAgICAgLnVwZGF0ZUF2YXRhcih7IGF2YXRhcjogZGF0YS5saW5rIH0pXG4gICAgICAudGhlbigoaW5mbykgPT4ge1xuICAgICAgICB1c2VyRGF0YS5zZXRBdmF0YXIoeyBsaW5rOiBpbmZvLmF2YXRhciB9KTtcbiAgICAgICAgdXBkYXRlQXZhdGFyUG9wdXAuY2xvc2VNb2RhbCgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhgVW5hYmxlIGNoYW5nZSB0aGUgdXNlciBhdmF0YXI6ICR7cmVzfWApKVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICByZW5kZXJMb2FkaW5nKFwiI2NoYW5nZS1hdmF0YXItbW9kYWxcIik7XG4gICAgICB9KTtcbiAgfSxcbn0pO1xuXG51cGRhdGVBdmF0YXJQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBvcGVuQXZhdGFyTW9kYWxCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtYXZhdGFyLWJ1dHRvblwiKTtcblxub3BlbkF2YXRhck1vZGFsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHVwZGF0ZUF2YXRhclBvcHVwLm9wZW5Nb2RhbCgpO1xuICBlZGl0QXZhdGFyLnJlc2V0VmFsaWRhdGlvbigpO1xuICAvL2VkaXRBdmF0YXIudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbn0pO1xuXG5vcGVuUHJvZmlsZU1vZGFsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNvbnN0IGN1cnJlbnRVc2VySW5mbyA9IHVzZXJEYXRhLmdldFVzZXJJbmZvKCk7XG4gIG5hbWVJbnB1dC52YWx1ZSA9IGN1cnJlbnRVc2VySW5mby5wcm9maWxlTmFtZTtcbiAgZGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IGN1cnJlbnRVc2VySW5mby5wcm9maWxlRGVzY3JpcHRpb247XG4gIGVkaXRQcm9maWxlUG9wdXAub3Blbk1vZGFsKCk7XG59KTtcblxuY29uc3QgaW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIiNpbWFnZS1tb2RhbFwiKTtcbmNvbnN0IGRlbGV0ZVBvcHVwID0gbmV3IFBvcHVwV2l0aERlbGV0ZShcIiNkZWxldGUtcG9wdXBcIik7XG5kZWxldGVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBjcmVhdGVDYXJkID0gKGNhcmREYXRhKSA9PiB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcbiAgICB7XG4gICAgICBkYXRhOiB7IC4uLmNhcmREYXRhIH0sXG4gICAgICBjdXJyZW50VXNlcklkOiB1c2VyRGF0YS5nZXRVc2VySWQoKSxcbiAgICAgIGhhbmRsZVBpY3R1cmVDbGljazogKGNhcmREYXRhKSA9PiB7XG4gICAgICAgIGltYWdlUG9wdXAub3Blbk1vZGFsKGNhcmREYXRhKTtcbiAgICAgIH0sXG4gICAgICBoYW5kbGVMaWtlQ2xpY2s6IChjYXJkKSA9PiB7XG4gICAgICAgIGFwaVxuICAgICAgICAgIC5jaGFuZ2VMaWtlU3RhdHVzKGNhcmQuZ2V0SWQoKSwgIWNhcmQuY2hlY2tJZkxpa2VkKCkpXG4gICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGNhcmQuc2V0TGlrZXNJbmZvKHsgLi4uZGF0YSB9KTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhgVW5hYmxlIHRvIGNoYW5nZSBsaWtlIHN0YXR1czogJHtlcnJ9YCkpO1xuICAgICAgfSxcbiAgICAgIGhhbmRsZVRyYXNoQnV0dG9uQ2xpY2s6IChjYXJkKSA9PiB7XG4gICAgICAgIGRlbGV0ZVBvcHVwLm9wZW5Nb2RhbCgpO1xuICAgICAgICBkZWxldGVQb3B1cC5oYW5kbGVTdWJtaXRBY3Rpb24oKCkgPT4ge1xuICAgICAgICAgIGFwaVxuICAgICAgICAgICAgLmRlbGV0ZUNhcmQoY2FyZC5nZXRJZCgpKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBjYXJkLnJlbW92ZUVsZW1lbnQoKTtcbiAgICAgICAgICAgICAgZGVsZXRlUG9wdXAuY2xvc2VNb2RhbCgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhgVW5hYmxlIHRvIGRlbGV0ZSBhIGNhcmQ6ICR7ZXJyfWApKTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgIH0sXG4gICAgXCIjZWxlbWVudC10ZW1wbGF0ZVwiXG4gICk7XG4gIHJldHVybiBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xufTtcblxuYXBpXG4gIC5nZXRBcHBJbmZvKClcbiAgLnRoZW4oKFtpbml0aWFsQ2FyZHMsIHVzZXJJbmZvXSkgPT4ge1xuICAgIGNhcmRTZWN0aW9uLml0ZW1zID0gaW5pdGlhbENhcmRzO1xuICAgIHVzZXJEYXRhLnNldFVzZXJJbmZvKHVzZXJJbmZvKTtcblxuICAgIGNhcmRTZWN0aW9uLnJlbmRlckl0ZW1zKCk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiBgVW5hYmxlIHRvIGxvYWQgZGF0YTogJHtlcnJ9YCk7XG5cbmNvbnN0IGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oXG4gIHtcbiAgICBpdGVtczogbnVsbCxcbiAgICByZW5kZXJlcjogKGRhdGEpID0+IHtcbiAgICAgIGNhcmRTZWN0aW9uLmFkZEl0ZW0oY3JlYXRlQ2FyZChkYXRhKSk7XG4gICAgfSxcbiAgfSxcbiAgXCIuZWxlbWVudHNcIlxuKTtcblxuY29uc3QgYWRkQ2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBwb3B1cFNlbGVjdG9yOiBcIiNhZGQtY2FyZC1tb2RhbFwiLFxuICBoYW5kbGVGb3JtU3VibWl0OiAoZGF0YSkgPT4ge1xuICAgIHJlbmRlckxvYWRpbmcoXCIjYWRkLWNhcmQtbW9kYWxcIiwgdHJ1ZSk7XG5cbiAgICBhcGlcbiAgICAgIC5hZGROZXdDYXJkKGRhdGEpXG4gICAgICAudGhlbigoY2FyZERhdGEpID0+IHtcbiAgICAgICAgY2FyZFNlY3Rpb24uYWRkSXRlbShjcmVhdGVDYXJkKGNhcmREYXRhKSk7XG4gICAgICAgIGFkZENhcmRQb3B1cC5jbG9zZU1vZGFsKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGBVbmFibGUgdG8gYWRkIGEgY2FyZDogJHtlcnJ9YCkpXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIHJlbmRlckxvYWRpbmcoXCIjYWRkLWNhcmQtbW9kYWxcIik7XG4gICAgICB9KTtcbiAgfSxcbn0pO1xuXG5hZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGFkZENhcmRQb3B1cC5vcGVuTW9kYWwoKTtcbiAgYWRkQ2FyZFZhbGlkYXRvci50b2dnbGVCdXR0b25TdGF0ZSgpO1xufSk7XG5cbmltYWdlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmVkaXRQcm9maWxlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmFkZENhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcbiAgfVxuXG4gIF9oYW5kbGVTZXJ2ZXJSZXNwb25zZShyZXMpIHtcbiAgICByZXR1cm4gcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICB9XG5cbiAgZ2V0QXBwSW5mbygpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW3RoaXMuZ2V0SW5pdGlhbENhcmRzKCksIHRoaXMuZ2V0VXNlckluZm8oKV0pO1xuICB9XG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpO1xuICB9XG5cbiAgZWRpdFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQgfSkge1xuICAgIGNvbnNvbGUubG9nKHsgbmFtZSwgYWJvdXQgfSk7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lLFxuICAgICAgICBhYm91dCxcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpO1xuICB9XG5cbiAgYWRkTmV3Q2FyZCh7IG5hbWUsIGxpbmsgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lLFxuICAgICAgICBsaW5rLFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSk7XG4gIH1cblxuICBkZWxldGVDYXJkKGNhcmRJRCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJRH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpO1xuICB9XG5cbiAgY2hhbmdlTGlrZVN0YXR1cyhjYXJkSUQsIGxpa2UpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSUR9YCwge1xuICAgICAgbWV0aG9kOiBsaWtlID8gXCJQVVRcIiA6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpO1xuICB9XG5cbiAgdXBkYXRlQXZhdGFyKHsgYXZhdGFyIH0pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhdmF0YXIgfSksXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSk7XG4gIH1cbn1cbiIsImNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIHByb2ZpbGVOYW1lU2VsZWN0b3IsXG4gICAgcHJvZmlsZURlc2NyaXB0aW9uU2VsZWN0b3IsXG4gICAgdXNlckF2YXRhclNlbGVjdG9yLFxuICAgIF9pZCxcbiAgfSkge1xuICAgIHRoaXMuX3Byb2ZpbGVOYW1lRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVOYW1lU2VsZWN0b3IpO1xuICAgIHRoaXMuX3Byb2ZpbGVEZXNjcmlwdGlvbkVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIHByb2ZpbGVEZXNjcmlwdGlvblNlbGVjdG9yXG4gICAgKTtcbiAgICB0aGlzLl91c2VyQXZhdGFyRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJBdmF0YXJTZWxlY3Rvcik7XG4gICAgdGhpcy5faWQgPSBfaWQ7XG4gIH1cblxuICBnZXRVc2VySWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lkO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByb2ZpbGVOYW1lOiB0aGlzLl9wcm9maWxlTmFtZUVsLnRleHRDb250ZW50LFxuICAgICAgcHJvZmlsZURlc2NyaXB0aW9uOiB0aGlzLl9wcm9maWxlRGVzY3JpcHRpb25FbC50ZXh0Q29udGVudCxcbiAgICAgIGlkOiB0aGlzLl9pZCxcbiAgICAgIGF2YXRhcjogdGhpcy5fdXNlckF2YXRhckVsLnNyYyxcbiAgICB9O1xuICB9XG5cbiAgc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dCwgYXZhdGFyLCBfaWQgfSkge1xuICAgIGlmIChuYW1lKSB0aGlzLl9wcm9maWxlTmFtZUVsLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICBpZiAoYWJvdXQpIHRoaXMuX3Byb2ZpbGVEZXNjcmlwdGlvbkVsLnRleHRDb250ZW50ID0gYWJvdXQ7XG4gICAgaWYgKGF2YXRhcikgdGhpcy5fdXNlckF2YXRhckVsLnNyYyA9IGF2YXRhcjtcbiAgICBpZiAoX2lkKSB0aGlzLl9pZCA9IF9pZDtcbiAgfVxuXG4gIHNldEF2YXRhcih7IGxpbmsgfSkge1xuICAgIHRoaXMuX3VzZXJBdmF0YXJFbC5zcmMgPSBsaW5rO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXJJbmZvO1xuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faW1hZ2VFbGVtZW50ID0gdGhpcy5fbW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XG4gICAgdGhpcy5faW1hZ2VDYXB0aW9uID0gdGhpcy5fbW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2FwdGlvblwiKTtcbiAgfVxuXG4gIG9wZW5Nb2RhbChkYXRhKSB7XG4gICAgdGhpcy5faW1hZ2VFbGVtZW50LnNyYyA9IGRhdGEudXJsO1xuICAgIHRoaXMuX2ltYWdlRWxlbWVudC5hbHQgPSBgSW1hZ2UgJHtkYXRhLnRpdGxlfWA7XG4gICAgdGhpcy5faW1hZ2VDYXB0aW9uLnRleHRDb250ZW50ID0gZGF0YS50aXRsZTtcbiAgICBzdXBlci5vcGVuTW9kYWwoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhJbWFnZTtcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRGVsZXRlIGV4dGVuZHMgUG9wdXAge1xuICBoYW5kbGVTdWJtaXRBY3Rpb24oYWN0aW9uKSB7XG4gICAgdGhpcy5faGFuZGxlU3VibWl0QWN0aW9uID0gYWN0aW9uO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fbW9kYWxcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19kZWxldGUtYnV0dG9uXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdEFjdGlvbigpO1xuICAgICAgfSk7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuaXRlbXMgPSBpdGVtcztcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICB9XG5cbiAgcmVuZGVySXRlbXMoKSB7XG4gICAgdGhpcy5pdGVtcy5yZXZlcnNlKCkuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgfSk7XG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkZvcm1WYWxpZGF0b3IiLCJjb25zdHJ1Y3RvciIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwidGhpcyIsIl9jb25maWciLCJfZm9ybUVsZW1lbnQiLCJlbmFibGVWYWxpZGF0aW9uIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2lucHV0cyIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dFNlbGVjdG9yIiwiX2J1dHRvbkVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJpbnB1dCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX2Rpc2FibGVTdWJtaXRCdXR0b24iLCJkaXNhYmxlZCIsImNsYXNzTGlzdCIsImFkZCIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaGFzSW52YWxpZElucHV0IiwicmVtb3ZlIiwicmVzZXRWYWxpZGF0aW9uIiwiX3JlbW92ZUVycm9yTWVzc2FnZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfcmVtb3ZlRXJyb3JTdHlsZXMiLCJfYWRkRXJyb3JTdHlsZXMiLCJfYWRkRXJyb3JNZXNzYWdlIiwic29tZSIsImZvcm1FcnJvciIsImlkIiwidGV4dENvbnRlbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImVycm9yVGV4dFZpc2libGUiLCJpbnB1dFdpdGhFcnJvciIsIkNhcmQiLCJjYXJkU2VsZWN0b3IiLCJkYXRhIiwiY3VycmVudFVzZXJJZCIsImhhbmRsZVBpY3R1cmVDbGljayIsImhhbmRsZUxpa2VDbGljayIsImhhbmRsZVRyYXNoQnV0dG9uQ2xpY2siLCJfdGV4dCIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfY2FyZElEIiwiX2lkIiwiX3VzZXJJZCIsIl9vd25lcklEIiwib3duZXIiLCJfbGlrZXMiLCJsaWtlcyIsIl9oYW5kbGVQaWN0dXJlQ2xpY2siLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZVRyYXNoQnV0dG9uQ2xpY2siLCJfaGFuZGxlTGlrZUNsaWNrIiwiX2dldFRlbXBsYXRlIiwiZG9jdW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwic2V0TGlrZXNJbmZvIiwidXBkYXRlTGlrZXMiLCJsaWtlQnV0dG9uIiwiX2VsZW1lbnQiLCJjYXJkSW1hZ2UiLCJjYXJkVGl0bGUiLCJfdHJhc2hCdXR0b24iLCJfbGlrZXNDb3VudGVyIiwidXJsIiwidGl0bGUiLCJnZW5lcmF0ZUNhcmQiLCJtYWtlVHJhc2hCdXR0b25JbnZpc2libGUiLCJzcmMiLCJhbHQiLCJsZW5ndGgiLCJjaGVja0lmTGlrZWQiLCJCb29sZWFuIiwiZmluZCIsIml0ZW0iLCJnZXRJZCIsInJlbW92ZUVsZW1lbnQiLCJwb3B1cFNlbGVjdG9yIiwiX21vZGFsIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsImV2dCIsImtleSIsImNsb3NlTW9kYWwiLCJzZXRFdmVudExpc3RlbmVycyIsInRhcmdldCIsImNvbnRhaW5zIiwib3Blbk1vZGFsIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlBvcHVwIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX3BvcHVwRm9ybSIsIl9pbnB1dExpc3QiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9nZXRJbnB1dFZhbHVlcyIsIl9mb3JtVmFsdWVzIiwidmFsdWUiLCJlIiwicHJldmVudERlZmF1bHQiLCJyZXNldCIsInJlbmRlckxvYWRpbmciLCJpc0xvYWRpbmciLCJhY3RpdmVCdXR0b24iLCJlbGVtZW50cyIsImVkaXRQcm9maWxlUG9wdXAiLCJhZGRDYXJkTW9kYWwiLCJhZGRBdmF0YXJNb2RhbCIsInZhbGlkYXRpb25Db25maWciLCJmb3JtU2VsZWN0b3IiLCJlcnJvclRleHRTZWxlY3RvciIsIm9wZW5Qcm9maWxlTW9kYWxCdXR0b24iLCJlZGl0UHJvZmlsZUZvcm0iLCJmb3JtcyIsIm5hbWVJbnB1dCIsImRlc2NyaXB0aW9uSW5wdXQiLCJkZXNjcmlwdGlvbiIsImFkZENhcmRCdXR0b24iLCJhcGkiLCJiYXNlVXJsIiwiaGVhZGVycyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJfaGFuZGxlU2VydmVyUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZ2V0QXBwSW5mbyIsImFsbCIsImdldEluaXRpYWxDYXJkcyIsImdldFVzZXJJbmZvIiwiZmV0Y2giLCJ0aGVuIiwiZWRpdFVzZXJJbmZvIiwiYWJvdXQiLCJjb25zb2xlIiwibG9nIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhZGROZXdDYXJkIiwiZGVsZXRlQ2FyZCIsImNhcmRJRCIsImNoYW5nZUxpa2VTdGF0dXMiLCJsaWtlIiwidXBkYXRlQXZhdGFyIiwiYXZhdGFyIiwiYXV0aG9yaXphdGlvbiIsImFkZENhcmRWYWxpZGF0b3IiLCJ1c2VyRGF0YSIsInByb2ZpbGVOYW1lU2VsZWN0b3IiLCJwcm9maWxlRGVzY3JpcHRpb25TZWxlY3RvciIsInVzZXJBdmF0YXJTZWxlY3RvciIsIl9wcm9maWxlTmFtZUVsIiwiX3Byb2ZpbGVEZXNjcmlwdGlvbkVsIiwiX3VzZXJBdmF0YXJFbCIsImdldFVzZXJJZCIsInByb2ZpbGVOYW1lIiwicHJvZmlsZURlc2NyaXB0aW9uIiwic2V0VXNlckluZm8iLCJzZXRBdmF0YXIiLCJQb3B1cFdpdGhGb3JtIiwiaW5mbyIsImNhdGNoIiwiZXJyIiwiZmluYWxseSIsImVkaXRBdmF0YXIiLCJ1cGRhdGVBdmF0YXJQb3B1cCIsImN1cnJlbnRVc2VySW5mbyIsImltYWdlUG9wdXAiLCJfaW1hZ2VFbGVtZW50IiwiX2ltYWdlQ2FwdGlvbiIsImRlbGV0ZVBvcHVwIiwiaGFuZGxlU3VibWl0QWN0aW9uIiwiYWN0aW9uIiwiX2hhbmRsZVN1Ym1pdEFjdGlvbiIsImNyZWF0ZUNhcmQiLCJjYXJkRGF0YSIsImNhcmQiLCJpbml0aWFsQ2FyZHMiLCJ1c2VySW5mbyIsImNhcmRTZWN0aW9uIiwiaXRlbXMiLCJyZW5kZXJJdGVtcyIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwicmV2ZXJzZSIsImFkZEl0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsImFkZENhcmRQb3B1cCJdLCJzb3VyY2VSb290IjoiIn0=